(function(e){function t(t){for(var a,i,s=t[0],l=t[1],c=t[2],m=0,d=[];m<s.length;m++)i=s[m],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0819":function(e,t,n){e.exports=n.p+"img/tclinic.1cbaef0c.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Home")],1)},r=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Navbar")],1)},s=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-navigation-drawer",{attrs:{permanent:"",app:"",color:"primary",dark:"","expand-on-hover":""}},[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"title"},[e._v(" Teleclinic ")])],1)],1),n("v-divider",{attrs:{light:""}}),n("v-list",{attrs:{dense:"",nav:""}},[e._l(e.items,(function(t){return n("v-list-item",{key:t.title,attrs:{link:"",to:t.route}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),n("v-list-item",{on:{click:function(t){return e.logOut()}}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(e.mdiLogoutVariant))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Logout")])],1)],1)],2)],1),n("router-view")],1)},c=[],u=n("94ed"),m={name:"Navbar",components:{},data:function(){return{items:[{title:"Appointments",icon:u["b"],route:"/appointments"},{title:"Queue",icon:u["c"],route:"true"==localStorage.getItem("isDoctor")?"/doctor_queue":"/queue"},{title:"Personal Info",icon:u["a"],route:"/personal_info"}],mdiLogoutVariant:u["d"]}},methods:{logOut:function(){localStorage.removeItem("jwt"),localStorage.removeItem("code_sent"),this.$router.push("Login")}}},d=m,p=n("2877"),f=n("6544"),v=n.n(f),h=n("7496"),g=n("ce7e"),_=n("132d"),b=n("8860"),x=n("da13"),w=n("5d23"),k=n("34c3"),y=n("f774"),I=Object(p["a"])(d,l,c,!1,null,null,null),S=I.exports;v()(I,{VApp:h["a"],VDivider:g["a"],VIcon:_["a"],VList:b["a"],VListItem:x["a"],VListItemContent:w["a"],VListItemIcon:k["a"],VListItemTitle:w["b"],VNavigationDrawer:y["a"]});var V={name:"Home",components:{Navbar:S},mounted:function(){var e=this,t=this.$route.query.code;console.log(this.$route.query.code),t&&!localStorage.getItem("code_sent")?(localStorage.setItem("code_sent","true"),console.log("sending code"),this.$axios.post(this.$API_URL+"/zoom/create",{code:t,email:localStorage.getItem("email")},{headers:{"x-access-token":localStorage.getItem("jwt")}}).then((function(t){console.log(t),e.$router.push("/doctor_queue")})).catch((function(e){console.log(e)}))):(console.log("hi"),this.$router.push("/appointments"))}},T=V,C=Object(p["a"])(T,i,s,!1,null,null,null),$=C.exports;v()(C,{VApp:h["a"]});var A={name:"App",components:{Home:$},data:function(){return{}}},M=A,O=Object(p["a"])(M,o,r,!1,null,null,null),D=O.exports;v()(O,{VApp:h["a"]});var j=n("f309"),P=n("fcf44");a["a"].use(j["a"]);var R=new j["a"]({theme:{themes:{light:{primary:"#4ABDAC",secondary:"#FC4A1A",accent:"#F7B733",error:P["a"].red.accent3,success:P["a"].blue.base,background:"#eeeeee"}}}}),L=(n("45fc"),n("8c4f")),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",{staticClass:"fill-height ml-15"},[n("v-col",[n("v-sheet",{attrs:{height:"64"}},[n("v-toolbar",{attrs:{flat:"",color:"white"}},[e.showing()?n("v-btn",{staticClass:"mr-4",attrs:{color:"primary",dark:""},on:{click:function(t){return e.setDialogTrue()}}},[e._v(" Add Appointment ")]):e._e(),n("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.setToday}},[e._v(" Today ")]),n("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.prev}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-left")])],1),n("v-btn",{staticClass:"mr-4",attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.next}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-right")])],1),e.$refs.calendar?n("v-toolbar-title",[e._v(" "+e._s(e.$refs.calendar.title)+" ")]):e._e(),n("v-spacer"),n("v-menu",{attrs:{bottom:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[n("v-btn",e._g(e._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",o,!1),a),[n("span",[e._v(e._s(e.typeToLabel[e.type]))]),n("v-icon",{attrs:{right:""}},[e._v("mdi-menu-down")])],1)]}}])},[n("v-list",[n("v-list-item",{on:{click:function(t){e.type="day"}}},[n("v-list-item-title",[e._v("Day")])],1),n("v-list-item",{on:{click:function(t){e.type="week"}}},[n("v-list-item-title",[e._v("Week")])],1),n("v-list-item",{on:{click:function(t){e.type="month"}}},[n("v-list-item-title",[e._v("Month")])],1),n("v-list-item",{on:{click:function(t){e.type="4day"}}},[n("v-list-item-title",[e._v("4 days")])],1)],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-container",[n("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.addAppointment(t)}}},[n("h1",{staticStyle:{"text-align":"center"}},[e._v("Make Appointment")]),n("v-text-field",{attrs:{rules:[e.rules.required],type:"text",label:"Reason for Appointment (required)"},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}}),n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,o=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{rules:[e.rules.required],label:"Date: (required) - Please enter a present/future date",readonly:""},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}},"v-text-field",o,!1),a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.$refs.menu.save(e.checkDate(e.form.date))}}},[e._v("OK")])],1)],1),n("v-select",{attrs:{items:e.availableT,label:"Select Available Time (required)",rules:[e.rules.required],dense:"",solo:""},on:{click:function(t){return e.getTimes(e.form.date)}},model:{value:e.form.timeSelected,callback:function(t){e.$set(e.form,"timeSelected",t)},expression:"form.timeSelected"}}),n("div",{staticStyle:{"text-align":"center"}},[n("v-btn",{staticClass:"mr-4",attrs:{type:"submit",color:"primary"},on:{click:function(t){return t.stopPropagation(),e.submitDialog()}}},[e._v("Create Appointment")])],1)],1)],1)],1)],1),n("v-sheet",{attrs:{height:"600"}},[n("v-calendar",{ref:"calendar",attrs:{color:"primary",events:e.events,"event-color":e.getEventColor,type:e.type},on:{"click:event":e.showEvent,"click:more":e.viewDay,"click:date":e.viewDay},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),n("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[n("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[n("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.deleteEvent(e.selectedEvent.id)}}},[n("v-icon",[e._v("mdi-delete")])],1),n("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}}),n("v-spacer")],1),n("v-card-text",[n("span",{domProps:{innerHTML:e._s(e.selectedEvent.details)}})]),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.selectedOpen=!1}}},[e._v(" Close ")])],1)],1)],1)],1)],1)],1)},q=[],U=(n("99af"),n("4160"),n("caad"),n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("4d90"),n("1276"),n("159b"),n("3835")),F=n("5530"),Q=(n("96cf"),n("1da1")),H={data:function(){return{focus:"",type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},rules:{required:function(e){return!!e||"Required"}},form:{date:(new Date).toISOString().substr(0,10),reason:null,timeSelected:null},newAppointment:{name:null,details:null,start:null,finish:null,timed:!0,color:"primary",doctor_email:"kathrikai30201094@gmail.com"},today:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,menu2:!1,selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],name:null,start:null,end:null,colors:["blue","indigo","deep-purple","cyan","green","orange","grey darken-1"],names:["Meeting","Holiday","PTO","Travel","Event","Birthday","Conference","Party"],times:["9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM"],availableT:[],myForm:{appointment_id:null},dialog:!1,dialogDate:!1,meetingST:[]}},mounted:function(){this.getAppointments()},methods:{showing:function(){return!("true"==localStorage.getItem("isDoctor"))},getAppointments:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=localStorage.getItem("jwt"),t.next=3,e.$axios.get(e.$API_URL+"/appointments/get",{headers:{"x-access-token":n}}).catch((function(e){return console.log(e)}));case 3:a=t.sent,o=[],a.data.forEach((function(e){var t=e,n={id:t.appointment_id,start:1e3*t.start,end:1e3*t.finish,details:t.details,name:t.name,timed:t.timed,color:t.color};o.push(n)})),e.events=o;case 7:case"end":return t.stop()}}),t)})))()},addAppointment:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n,a,o,r,i,s,l,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=17;break}return n=e.form.timeSelected.split(" - "),a=n[0],o=n[1],r=e.toTimestamp(e.form.date,a),i=e.toTimestamp(e.form.date,o),s=localStorage.getItem("jwt"),l="Doctor's Appointment",c=e.form.reason,e.newAppointment.start=Math.floor(r/1e3),e.newAppointment.finish=Math.floor(i/1e3),e.newAppointment.name=l,e.newAppointment.details=c,u=e.newAppointment,t.next=16,e.$axios.post(e.$API_URL+"/appointments/add",Object(F["a"])({},u),{headers:{"x-access-token":s}}).catch((function(e){return console.log(e)}));case 16:e.$router.go(0);case 17:case"end":return t.stop()}}),t)})))()},deleteEvent:function(e){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.myForm.appointment_id=e,a=t.myForm,o=localStorage.getItem("jwt"),t.selectedOpen=!1,n.next=6,t.$axios.post(t.$API_URL+"/appointments/delete",Object(F["a"])({},a),{headers:{"x-access-token":o}}).catch((function(e){return console.log(e)}));case 6:t.$router.go(0);case 7:case"end":return n.stop()}}),n)})))()},getTimes:function(e){var t=this;return Object(Q["a"])(regeneratorRuntime.mark((function n(){var a,o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=localStorage.getItem("jwt"),n.next=3,t.$axios.get(t.$API_URL+"/appointments/getTimes",{headers:{"x-access-token":a}}).catch((function(e){return console.log(e)}));case 3:o=n.sent,r=[],o.data.forEach((function(e){r.push((1e3*e.start).toString())})),t.meetingST=r,t.updateAvailableTimes(e);case 8:case"end":return n.stop()}}),n)})))()},setDialogTrue:function(){this.dialog=!0,this.getTimes(this.form.date)},submitDialog:function(){this.$refs.form.validate()&&(this.dialog=!1)},toTimestamp:function(e,t){var n=t.split(" "),a=n[0],o=n[1],r=e.split("-"),i=a.split(":");"PM"==o&&"12"!=a.split(":")[0]&&(i[0]=(parseInt(i[0],10)+12).toString()),"AM"==o&&"12:00"==a&&(i[0]=(parseInt(i[0],10)+12).toString());var s=new Date(Date.UTC(r[0],r[1]-1,r[2],i[0],i[1]));return(s.getTime()+144e5).toString()},toToDfromTimestamp:function(e){var t=new Date(e),n=t.toTimeString().split(":"),a=parseInt(n[0],10),o="AM";a<=23&&a>=12&&(o="PM"),a>12&&(a-=12);var r=a.toString();return r+":"+n[1]+" "+o},toDatefromTimestamp:function(e){var t=new Date(e),n=""+t.getDate(),a=""+(t.getMonth()+1);return 1==n.length&&(n="0"+n),1==a.length&&(a="0"+a),n+"/"+a+"/"+t.getFullYear()},viewDay:function(e){var t=e.date;this.focus=t,this.type="day"},getEventColor:function(e){return e.color},setToday:function(){this.focus=""},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},showEvent:function(e){var t=this,n=e.nativeEvent,a=e.event,o=function(){t.selectedEvent=a,t.selectedElement=n.target,setTimeout((function(){return t.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(o,10)):o(),n.stopPropagation()},checkDate:function(e){return this.today<e?(this.form.date=e,e):(this.form.date=this.today,this.today)},updateAvailableTimes:function(e){for(var t=[],n=0;n<this.times.length-1;n+=1){var a=this.toTimestamp(e,this.times[n]);this.meetingST.includes(a)||Date.now()<=a&&t.push(this.times[n]+" - "+this.times[n+1])}this.availableT=t},rnd:function(e,t){return Math.floor((t-e+1)*Math.random())+e},formatDate:function(e){if(!e)return null;var t=e.split("-"),n=Object(U["a"])(t,3),a=n[0],o=n[1],r=n[2];return"".concat(o,"/").concat(r,"/").concat(a)},parseDate:function(e){if(!e)return null;var t=e.split("/"),n=Object(U["a"])(t,3),a=n[0],o=n[1],r=n[2];return"".concat(r,"-").concat(a.padStart(2,"0"),"-").concat(o.padStart(2,"0"))}}},W=H,N=n("8336"),z=n("a4f6"),B=n("b0af"),Y=n("99d9"),J=n("62ad"),Z=n("a523"),K=n("2e4b"),G=n("169a"),X=n("4bd4"),ee=n("e449"),te=n("0fd9"),ne=n("b974"),ae=n("8dd9"),oe=n("2fa4"),re=n("8654"),ie=n("71d9"),se=n("2a7f"),le=Object(p["a"])(W,E,q,!1,null,null,null),ce=le.exports;v()(le,{VBtn:N["a"],VCalendar:z["a"],VCard:B["a"],VCardActions:Y["a"],VCardText:Y["b"],VCol:J["a"],VContainer:Z["a"],VDatePicker:K["a"],VDialog:G["a"],VForm:X["a"],VIcon:_["a"],VList:b["a"],VListItem:x["a"],VListItemTitle:w["b"],VMenu:ee["a"],VRow:te["a"],VSelect:ne["a"],VSheet:ae["a"],VSpacer:oe["a"],VTextField:re["a"],VToolbar:ie["a"],VToolbarTitle:se["a"]});var ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{style:{background:"#eee"}},[e.hasAppointment?n("v-card",{staticClass:"mx-auto my-auto",attrs:{width:"600"}},[n("v-card-title",{staticClass:"black--text accent"},[n("h1",{staticClass:"mx-auto",attrs:{id:"welcome"}},[e._v(" Welcome, "+e._s(e.name)+" ")])]),n("v-divider"),n("div",{staticStyle:{padding:"20px"}},[n("h3",{attrs:{align:"center"}},[e._v(" Your appointment is at "+e._s(e.toToDfromTimestamp(e.appointmentInfo.start))+". ")]),n("v-spacer"),n("h3",{attrs:{align:"center"}},[e._v(" Join call: ")]),n("v-card",{staticClass:"mx-auto",staticStyle:{margin:"10px"},attrs:{width:"300",raised:""}},[n("v-card-title",{staticClass:"black--text"},[n("a",{staticClass:"mx-auto",staticStyle:{"text-decoration":"none"},attrs:{href:e.appointmentInfo.zoom_link,target:"_blank",id:"welcome"}},[e._v(" Zoom Link ")])])],1),n("h3",{attrs:{align:"center"}},[e._v(" Password to join: "+e._s(e.appointmentInfo.password)+" ")])],1)],1):e._e(),e.isInQueue?n("v-card",{staticClass:"mx-auto my-auto",attrs:{width:"600"}},[n("v-card-title",{staticClass:"black--text accent"},[n("h1",{staticClass:"mx-auto",attrs:{id:"welcome"}},[e._v(" Welcome, "+e._s(e.name)+" ")])]),n("v-divider"),n("div",{staticStyle:{padding:"20px"}},[n("h3",{attrs:{align:"center"}},[e._v("Your place in line is: "+e._s(e.place))]),n("h3",{attrs:{align:"center"}},[e._v("Estimated wait time: "+e._s(e.waitTimeToString(e.getWaitTime())))]),n("div",{staticStyle:{margin:"10px"},attrs:{align:"center"}},[n("v-btn",{staticClass:"mx-auto",attrs:{color:"error"},on:{click:function(t){return e.leaveQueue()}}},[e._v(" Leave queue ")])],1)])],1):e._e(),e.isInQueue||e.hasAppointment?e._e():n("v-card",{staticClass:"mx-auto my-auto",attrs:{width:"600"}},[n("v-card-title",{staticClass:"black--text accent"},[n("h1",{staticClass:"mx-auto",attrs:{id:"welcome"}},[e._v(" Welcome ")])]),n("v-divider"),n("div",{staticStyle:{padding:"20px"}},[n("h3",{attrs:{align:"center"}},[e._v("There are "+e._s(e.num)+" people in the queue.")]),n("h3",{attrs:{align:"center"}},[e._v("Estimated wait time: "+e._s(e.waitTimeToString(e.getWaitTime())))]),n("div",{staticStyle:{margin:"10px"},attrs:{align:"center"}},[n("v-btn",{staticClass:"mx-auto",attrs:{color:"primary"},on:{click:function(t){return e.enterQueue()}}},[e._v(" Join queue ")])],1)])],1)],1)},me=[],de={name:"Queue",components:{},data:function(){return{hasAppointment:!1,isInQueue:!1,queueInfo:{},appointmentInfo:{id:"",name:"",details:"",start:0,end:0,color:"",zoom_link:"",first_name:"",last_name:""},num:Math.ceil(5*Math.random()),place:0}},methods:{waitTimeToString:function(e){return e<3600?Math.ceil(e/60)+" minutes":Math.ceil(e/3600)+" hours"},getWaitTime:function(){return 1800*(this.num-1)},getPlaceInQueue:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.post(e.$API_URL+"/queue/get",{email:localStorage.getItem("email"),queue:!0},{headers:{"x-access-token":localStorage.getItem("jwt")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}));case 2:n=t.sent,console.log(n);case 4:case"end":return t.stop()}}),t)})))()},enterQueue:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isInQueue=!0,e.place=e.num+1,t.next=4,e.$axios.post(e.$API_URL+"/queue/add",{doctor_email:"",details:"",start:Date.now()/1e3,finish:Date.now()/1e3+86400,name:"Doctor's Appointment",timed:!0,color:""},{headers:{"x-access-token":localStorage.getItem("jwt")}}).then((function(t){console.log(t),e.isInQueue=!0})).catch((function(e){console.log(e)}));case 4:n=t.sent,console.log(n);case 6:case"end":return t.stop()}}),t)})))()},leaveQueue:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isInQueue=!1,t.next=3,e.$axios.post(e.$API_URL+"/queue/delete",{email:localStorage.getItem("email"),queue:!0},{headers:{"x-access-token":localStorage.getItem("jwt")}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}));case 3:n=t.sent,console.log(n);case 5:case"end":return t.stop()}}),t)})))()},getAppointment:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n,a,o,r,i,s,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=localStorage.getItem("jwt"),t.next=3,e.$axios.get(e.$API_URL+"/appointments/get",{headers:{"x-access-token":n}}).catch((function(e){return console.log(e)}));case 3:for(a=t.sent,o=[],a.data.forEach((function(e){var t=e,n={start:1e3*t.start,zoom_link:t.join_url,password:t.password};o.push(n)})),r=(new Date).toISOString().substr(0,10),i=null,s=0;s<o.length;s++)l=o[s],c=e.toDatefromTimestamp(l.start),console.log(c,r),c==r&&(i=l);e.appointmentInfo=i,e.hasAppointment=null!=i,console.log(i);case 12:case"end":return t.stop()}}),t)})))()},toDatefromTimestamp:function(e){var t=new Date(e),n=""+t.getDate(),a=""+(t.getMonth()+1);return 1==n.length&&(n="0"+n),1==a.length&&(a="0"+a),t.getFullYear()+"-"+a+"-"+n},toToDfromTimestamp:function(e){var t=new Date(e),n=t.toTimeString().split(":"),a=parseInt(n[0],10),o="AM";a<=23&&a>=12&&(o="PM"),a>12&&(a-=12);var r=a.toString();return r+":"+n[1]+" "+o}},mounted:function(){this.getPlaceInQueue(),this.getAppointment()}},pe=de,fe=(n("9650"),Object(p["a"])(pe,ue,me,!1,null,"59ce30ab",null)),ve=fe.exports;v()(fe,{VApp:h["a"],VBtn:N["a"],VCard:B["a"],VCardTitle:Y["c"],VDivider:g["a"],VSpacer:oe["a"]});var he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{style:{background:"#eee"}},[n("v-container",{staticClass:"mx-auto my-auto"},[n("v-card",{staticClass:"mx-auto",attrs:{width:"400"}},[n("v-card-title",{staticClass:"black--text"},[n("h2",{staticStyle:{"font-weight":"normal"},attrs:{id:"welcome"}},[e._v(" Personal Information ")]),n("v-btn",{staticClass:"mx-2",staticStyle:{position:"absolute",right:"0",top:"0","margin-top":"12px",color:"black"},attrs:{fab:"",dark:"",small:"",color:"cyan",align:"right"},on:{click:function(t){return e.openEditModal()}}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-pencil")])],1)],1),n("v-divider"),n("ul",{staticStyle:{"list-style-type":"none","font-size":"18px",padding:"20px"}},[n("li",[n("b",[e._v("First name:")]),e._v(" "+e._s(e.info.first_name))]),n("li",[n("b",[e._v("Last name:")]),e._v(" "+e._s(e.info.last_name))]),n("li",[n("b",[e._v("Email:")]),e._v(" "+e._s(e.info.email))]),n("li",[n("b",[e._v("Phone number:")]),e._v(" "+e._s(e.info.phone_number))]),n("li",[n("b",[e._v("Health card number:")]),e._v(" "+e._s(e.info.health_card_number))])])],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.isEditModalOpen,callback:function(t){e.isEditModalOpen=t},expression:"isEditModalOpen"}},[n("v-card",{attrs:{id:"modal"}},[n("v-card-title",{staticClass:"headline justify-center"},[e._v(" Update Information ")]),n("v-card-text",[n("v-form",{ref:"form"},[n("v-text-field",{attrs:{color:"success",label:"First Name",name:"first name","prepend-icon":"mdi-form-textbox",type:"text",rules:[e.rules.required]},model:{value:e.form.first_name,callback:function(t){e.$set(e.form,"first_name",t)},expression:"form.first_name"}}),n("v-text-field",{attrs:{color:"success",label:"Last Name",name:"last name","prepend-icon":"mdi-form-textbox",type:"text",rules:[e.rules.required]},model:{value:e.form.last_name,callback:function(t){e.$set(e.form,"last_name",t)},expression:"form.last_name"}}),n("v-text-field",{attrs:{color:"success",label:"Health Card Number",name:"health card number","prepend-icon":"mdi-form-textbox",type:"text",rules:[e.rules.required,e.rules.healthCardRules]},model:{value:e.form.health_card_number,callback:function(t){e.$set(e.form,"health_card_number",t)},expression:"form.health_card_number"}}),n("v-text-field",{attrs:{color:"success",label:"Phone number",name:"phone number","prepend-icon":"mdi-form-textbox",type:"text",rules:[e.rules.required,e.rules.phone_number]},model:{value:e.form.phone_number,callback:function(t){e.$set(e.form,"phone_number",t)},expression:"form.phone_number"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){e.isEditModalOpen=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.onUpdate(),e.isEditModalOpen=!1}}},[e._v(" Update ")])],1)],1)],1)],1)],1)},ge=[],_e={name:"Personal_Info",components:{},data:function(){return{info:{last_name:"",first_name:"",email:"",phone_number:"",health_card_number:""},mdiPencil:u["e"],isEditModalOpen:!1,form:{email:"",first_name:"",last_name:"",health_card_number:"",phone_number:""},rules:{required:function(e){return!!e||"Required."},emailRules:function(e){return!e||/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"Email must be valid"},healthCardRules:function(e){return!e||/[1-9]\d{9}/.test(e)||"Health card number must be valid"},phone_number:function(e){return!e||/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/.test(e)||"Phone number must be valid"}}}},methods:{openEditModal:function(){this.isEditModalOpen=!0,this.form=this.info},getUserInfo:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get(e.$API_URL+"/info/profile",{headers:{"x-access-token":localStorage.getItem("jwt")}}).catch((function(e){console.log(e)}));case 2:n=t.sent,e.info=n.data;case 4:case"end":return t.stop()}}),t)})))()},onUpdate:function(){console.log("update info");var e=this.form;this.$refs.form.validate()&&this.$axios.post(this.$API_URL+"/info/update",Object(F["a"])({},e),{headers:{"x-access-token":localStorage.getItem("jwt")}}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}))}},mounted:function(){this.getUserInfo()}},be=_e,xe=Object(p["a"])(be,he,ge,!1,null,null,null),we=xe.exports;v()(xe,{VApp:h["a"],VBtn:N["a"],VCard:B["a"],VCardActions:Y["a"],VCardText:Y["b"],VCardTitle:Y["c"],VContainer:Z["a"],VDialog:G["a"],VDivider:g["a"],VForm:X["a"],VIcon:_["a"],VSpacer:oe["a"],VTextField:re["a"]});var ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{style:{background:"#eee"}},[a("v-main",[a("v-container",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",[a("v-card-title",[e._v(" Login ")]),a("v-card-text",[a("v-form",{ref:"form"},[a("v-text-field",{attrs:{label:"Login",name:"login","prepend-icon":"mdi-account",color:"success",type:"text"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),a("v-text-field",{attrs:{id:"password",label:"Password",name:"password",color:"success","prepend-icon":"mdi-lock",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"secondary"},on:{click:e.onLogin}},[e._v("Log In")]),a("v-btn",{attrs:{color:"accent",to:e.registerR}},[e._v("Sign up here!")])],1)],1)],1)],1)],1),a("v-img",{staticClass:"mx-auto",attrs:{src:n("0819"),width:"300"}})],1)],1)},ye=[],Ie={name:"Login",data:function(){return{form:{email:"",password:""},registerR:"/register"}},methods:{onLogin:function(e){var t=this;e.preventDefault(),this.$router.push("/");var n=this.form;this.$refs.form.validate()&&this.$axios.post(this.$API_URL+"/auth/login",Object(F["a"])({},n)).then((function(e){console.log(e.data.accessToken),"string"===typeof e.data.accessToken&&(localStorage.setItem("jwt",e.data.accessToken),localStorage.setItem("isDoctor",e.data.isDoctor),localStorage.setItem("email",n.email),console.log(localStorage.getItem("isDoctor")),"true"==localStorage.getItem("isDoctor")?window.location="https://zoom.us/oauth/authorize?client_id=zRlubaFlSqSKTLvRweygmg&response_type=code&redirect_uri=http%3A%2F%2Fteleclinic.netlify.app%2F":t.$router.push("appointments"))}))}}},Se=Ie,Ve=n("adda"),Te=n("f6c4"),Ce=Object(p["a"])(Se,ke,ye,!1,null,null,null),$e=Ce.exports;v()(Ce,{VApp:h["a"],VBtn:N["a"],VCard:B["a"],VCardActions:Y["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:J["a"],VContainer:Z["a"],VForm:X["a"],VImg:Ve["a"],VMain:Te["a"],VRow:te["a"],VTextField:re["a"]});var Ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{style:{background:"#eee"}},[n("v-main",[n("v-container",[n("v-row",{attrs:{align:"center",justify:"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[n("v-card",[n("v-card-title",[e._v(" Register ")]),n("v-card-text",[n("v-form",{ref:"form"},[n("v-text-field",{attrs:{label:"Email",name:"email",color:"success","prepend-icon":"mdi-account",type:"text",rules:[e.rules.required,e.rules.emailRules]},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),n("v-text-field",{attrs:{color:"success",label:"First Name",name:"first name","prepend-icon":"mdi-form-textbox",type:"text",rules:[e.rules.required]},model:{value:e.form.first_name,callback:function(t){e.$set(e.form,"first_name",t)},expression:"form.first_name"}}),n("v-text-field",{attrs:{color:"success",label:"Last Name",name:"last name","prepend-icon":"mdi-form-textbox",type:"text",rules:[e.rules.required]},model:{value:e.form.last_name,callback:function(t){e.$set(e.form,"last_name",t)},expression:"form.last_name"}}),n("v-text-field",{attrs:{color:"success",label:"Health Card Number",name:"health card number","prepend-icon":"mdi-form-textbox",type:"text",rules:[e.rules.required,e.rules.healthCardRules]},model:{value:e.form.health_card_number,callback:function(t){e.$set(e.form,"health_card_number",t)},expression:"form.health_card_number"}}),n("v-text-field",{attrs:{color:"success",label:"Phone number",name:"phone number","prepend-icon":"mdi-form-textbox",type:"text",rules:[e.rules.required,e.rules.phone_number]},model:{value:e.form.phone_number,callback:function(t){e.$set(e.form,"phone_number",t)},expression:"form.phone_number"}}),n("v-text-field",{attrs:{color:"success",id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password",rules:[e.rules.required,e.rules.min]},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),n("v-text-field",{attrs:{id:"passwordconfirm",label:"Confirm Password",name:"passwordconfirm",color:"success","prepend-icon":"mdi-lock",type:"password",rules:[e.rules.required,e.rules.min,e.rules.match]},model:{value:e.form.otherpass,callback:function(t){e.$set(e.form,"otherpass",t)},expression:"form.otherpass"}}),n("v-btn",{attrs:{color:"accent"},on:{click:e.onRegister}},[e._v("Register")])],1)],1)],1)],1)],1)],1)],1)],1)},Me=[],Oe={name:"Register",data:function(){var e=this;return{form:{username:"",first_name:"",last_name:"",health_card_number:"",password:"",otherpass:"",phone_number:""},rules:{required:function(e){return!!e||"Required."},match:function(t){return t===e.form.password||"Password must match"},emailRules:function(e){return!e||/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"Email must be valid"},healthCardRules:function(e){return!e||/[1-9]\d{9}/.test(e)||"Health card number must be valid"},phone_number:function(e){return!e||/^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$/.test(e)||"Phone number must be valid"}}}},methods:{onRegister:function(e){var t=this;e.preventDefault(),console.log("registering");var n=this.form;this.$refs.form.validate()&&this.$axios.post(this.$API_URL+"/auth/register",Object(F["a"])({},n)).then((function(e){console.log(e.data.accessToken),"string"===typeof e.data.accessToken&&(localStorage.setItem("jwt",e.data.accessToken),localStorage.setItem("email",n.email),null!==localStorage.getItem("jwt")&&t.$router.push("/"))})).catch((function(e){return console.log(e)}))}}},De=Oe,je=Object(p["a"])(De,Ae,Me,!1,null,null,null),Pe=je.exports;v()(je,{VApp:h["a"],VBtn:N["a"],VCard:B["a"],VCardText:Y["b"],VCardTitle:Y["c"],VCol:J["a"],VContainer:Z["a"],VForm:X["a"],VMain:Te["a"],VRow:te["a"],VTextField:re["a"]});var Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{style:{background:"#eee"}},[n("v-row",{staticClass:"mx-auto my-auto"},[n("v-card",{staticClass:"ma-10",attrs:{width:"300",height:"600"}},[n("v-card-title",{staticClass:"black--text accent"},[n("h1",{staticClass:"mx-auto",attrs:{id:"welcome"}},[e._v(" Appointments ")])]),n("v-virtual-scroll",{attrs:{items:e.appointments,"item-height":50,height:"536"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;return[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(a.first_name+" "+a.last_name)+" "),n("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.toToDfromTimestamp(a.start)))])])],1),n("v-list-item-action",[n("v-btn",{attrs:{depressed:"",small:""},on:{click:function(t){return e.openAppointmentsModal(a)}}},[e._v(" View ")])],1)],1)]}}])})],1),n("v-card",{staticClass:"ma-10",attrs:{width:"300",height:"600"}},[n("v-card-title",{staticClass:"black--text accent"},[n("h1",{staticClass:"mx-auto",attrs:{id:"welcome"}},[e._v(" Walk-ins ")])]),n("v-virtual-scroll",{attrs:{items:e.walk_ins,"item-height":50,height:"536"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item;return[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(a.first_name+" "+a.last_name)+" ")])],1),n("v-list-item-action",[n("v-btn",{attrs:{depressed:"",small:""},on:{click:function(t){return e.openWalkInModal(a)}}},[e._v(" View ")])],1)],1)]}}])})],1)],1),n("v-dialog",{attrs:{"max-width":"350"},model:{value:e.appointmentModalOpen,callback:function(t){e.appointmentModalOpen=t},expression:"appointmentModalOpen"}},[n("v-card",[n("v-card-title",{staticClass:"headline justify-center"},[e._v(" Appointment Details ")]),n("v-container",{staticClass:"mx-auto my-auto"},[n("p",[n("b",[e._v("Name:")]),e._v(" "+e._s(" "+e.modalInfo.first_name+" "+e.modalInfo.last_name))]),n("p",[n("b",[e._v("Date:")]),e._v(" "+e._s(" "+e.toDatefromTimestamp(e.modalInfo.start)))]),n("p",[n("b",[e._v("Time:")]),e._v(" "+e._s(" "+e.toToDfromTimestamp(e.modalInfo.start)))]),n("p",[n("b",[e._v("Purpose:")]),e._v(" "+e._s(" "+e.modalInfo.details))])]),n("v-card-actions",{staticClass:"justify-center"},[n("v-btn",{attrs:{color:"black",text:"",align:"right"},on:{click:function(t){e.appointmentModalOpen=!1}}},[e._v(" back ")]),n("a",{staticStyle:{"text-decoration":"none"},attrs:{href:this.modalInfo.join_url}},[n("v-btn",{attrs:{color:"green darken-1",text:"",align:"right"},on:{click:function(t){return e.openZoom()}}},[e._v(" start ")])],1)],1)],1)],1),n("v-dialog",{attrs:{"max-width":"350"},model:{value:e.walkInModalOpen,callback:function(t){e.walkInModalOpen=t},expression:"walkInModalOpen"}},[n("v-card",[n("v-card-title",{staticClass:"headline justify-center"},[e._v(" Walk ")]),n("v-container",{staticClass:"mx-auto my-auto"},[n("h3",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.modalInfo.first_name+" "+e.modalInfo.last_name))])]),n("v-card-actions",{staticClass:"justify-center"},[n("v-btn",{attrs:{color:"black",text:"",align:"right"},on:{click:function(t){e.walkInModalOpen=!1}}},[e._v(" back ")]),n("v-btn",{attrs:{color:"green darken-1",text:"",align:"right"}},[e._v(" start ")])],1)],1)],1)],1)},Le=[],Ee={name:"DoctorQueue",data:function(){return{appointments:[],walk_ins:[],modalInfo:{},appointmentModalOpen:!1,walkInModalOpen:!1}},methods:{toToDfromTimestamp:function(e){var t=new Date(1e3*e),n=t.toTimeString().split(":"),a=parseInt(n[0],10),o="AM";a<=23&&a>=12&&(o="PM"),a>12&&(a-=12);var r=a.toString();return r+":"+n[1]+" "+o},openAppointmentsModal:function(e){this.modalInfo=e,this.appointmentModalOpen=!0},openWalkInModal:function(e){this.modalInfo=e,this.walkInModalOpen=!0},toDatefromTimestamp:function(e){var t=new Date(1e3*e),n=""+t.getDate(),a=""+(t.getMonth()+1);return 1==n.length&&(n="0"+n),1==a.length&&(a="0"+a),n+"/"+a+"/"+t.getFullYear()},getAppointments:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get(e.$API_URL+"/appointments/get",{headers:{"x-access-token":localStorage.getItem("jwt")}}).catch((function(e){console.log(e)}));case 2:n=t.sent,console.log(n),e.appointments=n.data;case 5:case"end":return t.stop()}}),t)})))()},getQueue:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get(e.$API_URL+"/appointments/get",{headers:{"x-access-token":localStorage.getItem("jwt")}}).catch((function(e){console.log(e)}));case 2:n=t.sent,console.log(n),e.appointments=n.data;case 5:case"end":return t.stop()}}),t)})))()},openZoom:function(){var e=this;return Object(Q["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=localStorage.getItem("jwt"),console.log(e.modalInfo),t.next=4,e.$axios.post(e.$API_URL+"/appointments/delete",{id:e.modalInfo.appointment_id},{headers:{"x-access-token":n}}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}));case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.getAppointments()},components:{}},qe=Ee,Ue=n("1800"),Fe=n("0de5"),Qe=Object(p["a"])(qe,Re,Le,!1,null,null,null),He=Qe.exports;v()(Qe,{VApp:h["a"],VBtn:N["a"],VCard:B["a"],VCardActions:Y["a"],VCardTitle:Y["c"],VContainer:Z["a"],VDialog:G["a"],VListItem:x["a"],VListItemAction:Ue["a"],VListItemContent:w["a"],VListItemTitle:w["b"],VRow:te["a"],VVirtualScroll:Fe["a"]}),a["a"].use(L["a"]);var We=new L["a"]({routes:[{path:"/",name:"Home",component:$,meta:{auth:!0}},{path:"/appointments",name:"Appointments",component:ce,meta:{auth:!0}},{path:"/queue",name:"Queue",component:ve,meta:{auth:!0}},{path:"/personal_info",name:"Personal Info",component:we,meta:{auth:!0}},{path:"/login",name:"Login",component:$e,meta:{guest:!0}},{path:"/register",name:"Register",component:Pe,meta:{guest:!0}},{path:"/doctor_queue",name:"DoctorQueue",component:He,meta:{doctor:!0,auth:!0}}],mode:"history"});We.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.auth}))?null==localStorage.getItem("jwt")?(console.log(e.fullPath),localStorage.setItem("nextUrl",e.fullPath),n({path:"/login"})):n():e.matched.some((function(e){return e.meta.isDoctor}))||e.matched.some((function(e){return e.meta.guest}))?null==localStorage.getItem("jwt")?n():n({name:"Appointments"}):n()}));var Ne=We,ze=n("bc3a"),Be=n.n(ze),Ye="https://api.zhehaizhang.com",Je=n("049c"),Ze=n.n(Je);a["a"].prototype.$axios=Be.a,a["a"].prototype.$API_URL=Ye,a["a"].config.productionTip=!1,a["a"].use(Ze.a),new a["a"]({vuetify:R,router:Ne,render:function(e){return e(D)}}).$mount("#app")},9650:function(e,t,n){"use strict";var a=n("f8e6"),o=n.n(a);o.a},f8e6:function(e,t,n){}});
//# sourceMappingURL=app.bc182e3a.js.map